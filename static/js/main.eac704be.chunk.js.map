{"version":3,"sources":["img/falcon.svg","actions/charactersActions.js","reducers/characters.js","actions/filmsActions.js","reducers/films.js","actions/searchActions.js","reducers/search.js","reducers/index.js","store/configureStore.js","Portal.js","ModalStarWarsPreloader.jsx","Modal.js","Card.jsx","CardList.jsx","utils/makeDelay.js","App.jsx","index.js"],"names":["module","exports","GET_CHARACTERS_REQUEST","GET_CHARACTERS_SUCCESS","GET_CHARACTERS_FAIL","DELETE_CHARACTERS","BASE_PATH","SEARCH_PATH","PEOPLE_PATH","setCharacters","url","dispatch","getState","searchQuery","search","nextHref","characters","type","fetch","then","resp","json","next","payload","results","hasMoreItems","getMoreCharacters","initialState","isFetching","error","GET_FILMS_SUCCESS","GET_FILMS_FAIL","BASE_FILMS_PATH","titlesArr","getFilms","forEach","title","push","films","CHANGE_SEARCH_TEXT","rootReducer","combineReducers","state","action","flat","store","createStore","applyMiddleware","thunk","Portal","el","document","createElement","body","appendChild","this","removeChild","ReactDOM","createPortal","props","children","Component","ModalStarWarsPreloader","className","src","falcon","alt","Modal","fetchData","filmsUrls","titles","result","i","film","length","setState","needShowLoader","homeworld","res","name","species","setTimeout","closeModal","styles","onClose","onClick","birthYear","gender","map","key","connect","Card","appElement","firstLetter","useState","isOpen","setIsOpen","openModal","useCallback","current","classList","add","remove","searchDebounced","fn","delay","to","args","clearTimeout","makeDelay","setCharactersList","setSearch","setSearchText","useEffect","needShowCard","onSubmit","event","preventDefault","placeholder","onChange","e","target","value","pageStart","loadMore","hasMore","birth_year","App","appRef","React","createRef","ref","render","getElementById"],"mappings":"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","file":"static/js/main.eac704be.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/falcon.5b35eabe.svg\";","/* eslint-disable import/prefer-default-export */\nexport const GET_CHARACTERS_REQUEST = 'GET_CHARACTERS_REQUEST';\nexport const GET_CHARACTERS_SUCCESS = 'GET_CHARACTERS_SUCCESS';\nexport const GET_CHARACTERS_FAIL = 'GET_CHARACTERS_FAIL';\nexport const DELETE_CHARACTERS = 'DELETE_CHARACTERS';\nconst BASE_PATH = 'https://swapi.co/api/';\nconst SEARCH_PATH = '?search=';\nconst PEOPLE_PATH = 'people/';\n\n\nfunction getMoreCharacters(url, dispatch) {\n  fetch(url).then((resp) => resp.json())\n    .then((resp) => {\n      if (resp.next) {\n        dispatch({\n          type: GET_CHARACTERS_SUCCESS,\n          payload: {\n            characters: resp.results,\n            nextHref: resp.next,\n            hasMoreItems: true,\n          },\n        });\n      } else {\n        dispatch({\n          type: GET_CHARACTERS_SUCCESS,\n          payload: {\n            characters: resp.results,\n            nextHref: null,\n            hasMoreItems: false,\n          },\n        });\n      }\n    });\n}\n\nexport const deleteCharacters = () => (\n  {\n    type: DELETE_CHARACTERS,\n  }\n);\n\nexport function setCharacters() {\n  let url = (`${BASE_PATH}${PEOPLE_PATH}`);\n\n  return (dispatch, getState) => {\n    const { searchQuery } = getState().search;\n    const { nextHref } = getState().characters;\n\n    if (searchQuery) {\n      url = (`${BASE_PATH}${PEOPLE_PATH}${SEARCH_PATH}${searchQuery}`);\n    }\n\n    dispatch({\n      type: GET_CHARACTERS_REQUEST,\n    });\n\n    if (nextHref) {\n      url = nextHref;\n    }\n\n    getMoreCharacters(url, dispatch);\n  };\n}\n","/* eslint-disable import/prefer-default-export */\nimport {\n  GET_CHARACTERS_REQUEST,\n  GET_CHARACTERS_SUCCESS,\n  GET_CHARACTERS_FAIL,\n  DELETE_CHARACTERS,\n} from '../actions/charactersActions';\n\nconst initialState = {\n  characters: [],\n  isFetching: false,\n  hasMoreItems: true,\n  nextHref: null,\n  error: '',\n};\n\nexport function charactersReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_CHARACTERS_REQUEST:\n      return {\n        ...state,\n        isFetching: true,\n        error: '',\n      };\n\n    case GET_CHARACTERS_SUCCESS:\n      return {\n        ...state,\n        characters: [...state.characters, action.payload.characters].flat(),\n        nextHref: action.payload.nextHref,\n        hasMoreItems: action.payload.hasMoreItems,\n        isFetching: false,\n        error: '',\n      };\n\n    case DELETE_CHARACTERS:\n      return {\n        ...state,\n        characters: [],\n        nextHref: null,\n        hasMoreItems: true,\n        isFetching: true,\n      };\n\n    case GET_CHARACTERS_FAIL:\n      return {\n        ...state,\n        error: action.payload,\n        isFetching: false,\n      };\n\n    default:\n      return state;\n  }\n}\n","export const GET_FILMS_SUCCESS = 'GET_FILMS_SUCCESS';\nexport const GET_FILMS_FAIL = 'GET_FILMS_FAIL';\n\nconst BASE_FILMS_PATH = 'https://swapi.co/api/films/';\n\nconst titlesArr = [];\n\nfunction fetchFilms(url) {\n  fetch(url).then((resp) => resp.json())\n    .then((resp) => {\n      resp.results.forEach(({ title, url }) => {\n        titlesArr.push({ title, url });\n      });\n    });\n}\n\nexport function getFilms() {\n  fetchFilms(BASE_FILMS_PATH);\n\n  return (dispatch) => {\n    dispatch({\n      type: GET_FILMS_SUCCESS,\n      payload: {\n        films: titlesArr,\n      },\n    });\n  };\n}\n","/* eslint-disable import/prefer-default-export */\nimport {\n  GET_FILMS_SUCCESS,\n  GET_FILMS_FAIL,\n} from '../actions/filmsActions';\n\nconst initialState = {\n  films: [],\n};\n\nexport function filmsReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_FILMS_SUCCESS:\n      return {\n        ...state,\n        films: action.payload.films,\n      };\n\n    case GET_FILMS_FAIL:\n      return {\n        ...state,\n        error: action.payload,\n      };\n\n    default:\n      return state;\n  }\n}\n","/* eslint-disable import/prefer-default-export */\nexport const CHANGE_SEARCH_TEXT = 'CHANGE_SEARCH_TEXT';\n\nexport function setSearchText(searchQuery) {\n  return {\n    type: CHANGE_SEARCH_TEXT,\n    payload: {\n      searchQuery,\n    },\n  };\n}\n","/* eslint-disable import/prefer-default-export */\nimport { CHANGE_SEARCH_TEXT } from '../actions/searchActions';\n\nconst initialState = {\n  searchQuery: null,\n};\n\nexport function searchReducer(state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_SEARCH_TEXT:\n      return {\n        ...state,\n        searchQuery: action.payload.searchQuery,\n      };\n\n    default:\n      return state;\n  }\n}\n","/* eslint-disable import/prefer-default-export */\nimport { combineReducers } from 'redux';\nimport { charactersReducer } from './characters';\nimport { filmsReducer } from './films';\nimport { searchReducer } from './search';\n\nexport const rootReducer = combineReducers({\n  films: filmsReducer,\n  characters: charactersReducer,\n  search: searchReducer,\n});\n","/* eslint-disable import/prefer-default-export */\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { rootReducer } from '../reducers';\n\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\n","import { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nexport default class Portal extends Component {\n  \n  el = document.createElement('div');\n\n  componentDidMount() {\n    document.body.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    document.body.removeChild(this.el);\n  }\n\n  render() {\n    return ReactDOM.createPortal(this.props.children, this.el);\n  }\n}","import React from 'react';\nimport './StarWarsPreloader.css';\nimport falcon from './img/falcon.svg';\n\nexport default function ModalStarWarsPreloader() {\n  return (\n    <div className=\"preloaderWrapper fadeIn\">\n      <img src={falcon} className=\"falconPreloader\" alt=\"falcon\" />\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Portal from './Portal';\nimport ModalStarWarsPreloader from './ModalStarWarsPreloader';\nimport './Modal.css';\n\nclass Modal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      needShowLoader: true,\n      homeworld: null,\n      species: null,\n      films: [],\n      styles: 'modalWrapper animated fadeIn',\n    }\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  fetchData = () => {\n    const filmsUrls = this.props.films;\n    const titles = this.props.titles;\n    const result = [];\n    \n    for (let i = 0; i < titles.length; i++) {\n      filmsUrls.forEach((film) => {\n        if (film === titles[i].url) result.push(titles[i].title)\n      })\n    }\n\n    this.setState({\n      needShowLoader: true,\n      films: result,\n    })\n\n    if (this.props.homeworld !== null) {\n      fetch(this.props.homeworld)\n        .then(res => res.json())\n        .then(result => {\n          this.setState({\n            homeworld: result.name,\n          });\n        })\n\n      fetch(this.props.species)\n      .then(res => res.json())\n      .then(result => {\n        this.setState({\n          species: result.name,\n        });\n      })\n\n      setTimeout(() => {\n        this.setState({\n          needShowLoader: false,\n        })\n      }, 2000);\n    }\n  }\n\n  closeModal = () => {\n    this.setState({\n      styles: 'modalWrapper animated fadeOut'\n    })\n    setTimeout(() => this.props.onClose(), 300);\n  }\n  \n  render() {\n    return (\n      <>\n        <Portal>\n        {this.state.needShowLoader ?\n          <ModalStarWarsPreloader/> : (\n          <div className={this.state.styles}>\n            <div className=\"modalWindow\">\n              <button className=\"modalCloseBtn\" onClick={ this.closeModal }/>\n              <div className=\"modalHeader\">\n                <div className=\"modalAvatar\">{ this.props.name[0] }</div>\n                <p>{ this.props.name }</p>\n              </div>\n              <div className=\"modalBody\">\n                <div className=\"threeWrapper\">\n                  <div className=\"titlesWrapper\">\n                    <span className=\"iconDOB\"/>\n                    <span className=\"titles\">Birth year</span>\n                    <span className=\"titleBirth\">{ this.props.birthYear }</span>\n                  </div>\n                  <div className=\"titlesWrapper\">\n                    <span className=\"iconSpecies\"/>\n                    <span className=\"titles\">Species</span>\n                    <span className=\"titleSpecies\">{ this.state.species }</span>\n                  </div>\n                  <div className=\"titlesWrapper\">\n                    <span className=\"iconGender\"/>\n                    <span className=\"titles\">Gender</span>\n                    <span className=\"titleGender\">{ this.props.gender }</span>\n                  </div>\n                </div>\n                <div className=\"filmsWrapper\">\n                  <div className=\"titlesWrapper\">\n                    <span className=\"iconHomeworld\"/>\n                    <span className=\"titles\">Homeworld</span>\n                    <span className=\"titleHomeworld\">{ this.state.homeworld }</span>\n                  </div>\n                  <div className=\"titlesWrapper\">\n                    <span className=\"iconFilms\"/>\n                    <span className=\"titleFilms\">Films</span>\n                    <div className=\"titleList\">{this.state.films.map((film, i) => (<span key={i}>{ film }</span>))}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        </Portal>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  let { films } = state.films;\n  return {\n    titles: films,\n  }\n}\n\nexport default connect(mapStateToProps)(Modal);\n","/* eslint-disable import/no-named-as-default-member */\n/* eslint-disable import/no-named-as-default */\n/* eslint-disable react/prop-types */\nimport React, { useCallback, useState } from 'react';\nimport Modal from './Modal';\n\nfunction Card({ name, url, films, homeworld, species, gender, birthYear, appElement }) {\n  const firstLetter = name[0];\n  const [isOpen, setIsOpen] = useState(false);\n\n  const openModal = useCallback(() => {\n    setIsOpen(true);\n    appElement.current.classList.add('blur');\n    document.body.classList.add('scroll-hidden');\n  }, [setIsOpen, appElement]);\n\n  const closeModal = useCallback(() => {\n    setIsOpen(false);\n    appElement.current.classList.remove('blur');\n    document.body.classList.remove('scroll-hidden');\n    appElement.current.classList.add('blurOut');\n    setTimeout(() => appElement.current.classList.remove('blurOut'), 2100);\n  }, [setIsOpen, appElement]);\n\n  return (\n    <>\n      <li>\n        <div className=\"card animated fadeInUp\" onClick={openModal}>\n          <div className=\"avatarWrapper\">\n            <div className=\"avatar\">{ firstLetter }</div>\n            <p className=\"avatarName\">{ name }</p>\n            <p className=\"avatarSpecies\">{ gender }</p>\n          </div>\n        </div>\n      </li>\n      {isOpen && (\n      <Modal\n        onClose={closeModal}\n        name={name}\n        films={films}\n        homeworld={homeworld}\n        species={species}\n        gender={gender}\n        birthYear={birthYear}\n        url={url}\n      />\n      )}\n    </>\n  );\n}\n\nexport default Card;\n","/* eslint-disable react/prop-types */\nimport React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { setCharacters, deleteCharacters } from './actions/charactersActions';\nimport { setSearchText } from './actions/searchActions';\nimport { getFilms } from './actions/filmsActions';\nimport makeDelay from './utils/makeDelay';\nimport Card from './Card';\n\nfunction CardList({\n  characters, hasMoreItems, appElement, setSearch, setCharactersList, isFetching, getFilms,\n}) {\n  useEffect(() => {\n    getFilms();\n  }, [getFilms]);\n\n  const needShowCard = (\n    characters.length !== 0\n  );\n\n  const loadMore = () => {\n    if (!isFetching) {\n      setCharactersList();\n    }\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n  };\n\n  return (\n    <>\n      <form\n        className=\"form\"\n        onSubmit={handleSubmit}\n      >\n        <input\n          type=\"text\"\n          className=\"input\"\n          placeholder=\"Search by name\"\n          onChange={(e) => setSearch(e.target.value)}\n        />\n        <button type=\"submit\" className=\"searchButton\" />\n      </form>\n      <ul className=\"cardList\">\n        <InfiniteScroll\n          pageStart={0}\n          loadMore={loadMore}\n          hasMore={hasMoreItems}\n        >\n          {needShowCard\n            ? (characters.map(({ name, url, films, homeworld, species, gender, birth_year }) => (\n              <Card\n                name={name}\n                url={url}\n                key={name}\n                films={films}\n                homeworld={homeworld}\n                appElement={appElement}\n                species={species}\n                gender={gender}\n                birthYear={birth_year}\n              />\n            )))\n            : <div className=\"noCharactersFound animated fadeIn\">No characters found.</div>}\n        </InfiniteScroll>\n      </ul>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  let { hasMoreItems } = state.characters;\n  let { characters } = state.characters;\n  let { isFetching } = state.characters;\n  let { films } = state.films;\n  return {\n    characters,\n    hasMoreItems,\n    isFetching,\n    films,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  const searchDebounced = makeDelay(() => dispatch(setCharacters()), 1000);\n\n  return {\n    setCharactersList: () => {\n      dispatch(setCharacters());\n    },\n    setSearch: (searchQuery) => {\n      dispatch(deleteCharacters());\n      dispatch(setSearchText(searchQuery));\n      searchDebounced();\n    },\n    getFilms: () => {\n      dispatch(getFilms());\n    },\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(CardList);\n","export default function makeDelay(fn, delay) {\n  let to = 0;\n\n  return (...args) => {\n    if (to) clearTimeout(to);\n\n    to = setTimeout(() => fn(...args), delay);\n  };\n}\n","import React, { Component } from 'react';\nimport CardList from './CardList';\n\nimport './reset.css';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.appRef = React.createRef();\n  }\n\n  render() {\n    return (\n      <div ref={this.appRef} className=\"app\">\n        <header className=\"header\">\n          <div className=\"logoWrapper\">\n            <div className=\"logoStar\" />\n            <p className=\"logoText\">CHARACTER ENCYCLOPEDIA</p>\n            <div className=\"logoWars\" />\n          </div>\n        </header>\n\n        <main className=\"cardContainer\">\n          <CardList\n            appElement={this.appRef}\n          />\n        </main>\n\n        <footer className=\"footer\">\n          <div className=\"footerText\">\n            <p className=\"footerText\">STAR WARS CHARACTER ENCYCLOPEDIA, 2019</p>\n          </div>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store/configureStore';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}