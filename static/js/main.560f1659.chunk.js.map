{"version":3,"sources":["img/falcon.svg","actions/charactersActions.js","reducers/characters.js","actions/filmsActions.js","reducers/films.js","actions/searchActions.js","reducers/search.js","reducers/index.js","store/configureStore.js","Portal.js","ModalPreloader.jsx","Modal.jsx","Card.jsx","CardList.jsx","utils/makeDelay.js","App.jsx","index.jsx"],"names":["module","exports","GET_CHARACTERS_REQUEST","GET_CHARACTERS_SUCCESS","GET_CHARACTERS_FAIL","DELETE_CHARACTERS","BASE_PATH","SEARCH_PATH","PEOPLE_PATH","setCharacters","url","dispatch","getState","searchQuery","search","nextHref","characters","type","fetch","then","resp","json","payload","results","next","hasMoreItems","Boolean","getMoreCharacters","initialState","isFetching","error","GET_FILMS_SUCCESS","GET_FILMS_FAIL","BASE_FILMS_PATH","titlesArr","getFilms","forEach","title","push","films","CHANGE_SEARCH_TEXT","rootReducer","combineReducers","state","action","flat","store","createStore","applyMiddleware","thunk","Portal","el","document","createElement","body","appendChild","this","removeChild","ReactDOM","createPortal","props","children","Component","ModalPreloader","className","src","falcon","alt","Modal","fetchData","filmUrls","titles","result","i","film","length","setState","needShowLoader","homeworld","species","res","name","setTimeout","avatarRef","current","style","backgroundColor","color","closeModal","styles","onClose","React","createRef","onClick","ref","birthYear","gender","map","key","connect","Card","appRef","useState","isOpen","setIsOpen","setColor","firstLetter","rgbColor","useEffect","colorArr","Math","floor","random","join","getColor","openModal","useCallback","classList","add","remove","debouncedSearch","fn","delay","to","args","clearTimeout","makeDelay","setCharactersList","setSearch","setSearchText","needShowCard","placeholder","onChange","e","target","value","pageStart","loadMore","hasMore","birth_year","App","render","getElementById"],"mappings":"0GAAAA,EAAOC,QAAU,IAA0B,oC,wOCC9BC,EAAyB,yBACzBC,EAAyB,yBACzBC,EAAsB,sBACtBC,EAAoB,oBAC3BC,EAAY,wBACZC,EAAc,WACdC,EAAc,UAuBb,SAASC,IACd,IAAIC,EAAG,UAAOJ,GAAP,OAAmBE,GAE1B,OAAO,SAACG,EAAUC,GAAc,IACtBC,EAAgBD,IAAWE,OAA3BD,YACAE,EAAaH,IAAWI,WAAxBD,SAEJF,IACFH,EAAG,UAAOJ,GAAP,OAAmBE,GAAnB,OAAiCD,GAAjC,OAA+CM,IAGpDF,EAAS,CACPM,KAAMf,IAGJa,IACFL,EAAMK,GApCZ,SAA2BL,EAAKC,GAC9BO,MAAMR,GAAKS,MAAK,SAACC,GAAD,OAAUA,EAAKC,UAC5BF,MAAK,SAACC,GACLT,EAAS,CACPM,KAAMd,EACNmB,QAAS,CACPN,WAAYI,EAAKG,QACjBR,SAAUK,EAAKI,MAAQ,KACvBC,aAAcC,QAAQN,EAAKI,YA+BjCG,CAAkBjB,EAAKC,I,yjBCzC3B,IAAMiB,EAAe,CACnBZ,WAAY,GACZa,YAAY,EACZJ,cAAc,EACdV,SAAU,KACVe,MAAO,ICbF,IAAMC,EAAoB,oBACpBC,EAAiB,iBAExBC,EAAkB,8BAElBC,EAAY,GAWX,SAASC,IAGd,OAXAjB,MASWe,GATAd,MAAK,SAACC,GAAD,OAAUA,EAAKC,UAC5BF,MAAK,SAACC,GACLA,EAAKG,QAAQa,SAAQ,YAAqB,IAAlBC,EAAiB,EAAjBA,MAAO3B,EAAU,EAAVA,IAC7BwB,EAAUI,KAAK,CAAED,QAAO3B,cAQvB,SAACC,GACNA,EAAS,CACPM,KAAMc,EACNT,QAAS,CACPiB,MAAOL,M,yjBCjBf,IAAMN,EAAe,CACnBW,MAAO,ICNF,IAAMC,EAAqB,qB,8NCElC,IAAMZ,EAAe,CACnBf,YAAa,MCER,IAAM4B,EAAcC,YAAgB,CACzCH,MHGK,WAAqD,IAA/BI,EAA8B,uDAAtBf,EAAcgB,EAAQ,uCACzD,OAAQA,EAAO3B,MACb,KAAKc,EACH,OAAO,KACFY,EADL,CAEEJ,MAAOK,EAAOtB,QAAQiB,QAG1B,KAAKP,EACH,OAAO,KACFW,EADL,CAEEb,MAAOc,EAAOtB,UAGlB,QACE,OAAOqB,IGjBX3B,WLQK,WAA0D,IAA/B2B,EAA8B,uDAAtBf,EAAcgB,EAAQ,uCAC9D,OAAQA,EAAO3B,MACb,KAAKf,EACH,OAAO,EAAP,GACKyC,EADL,CAEEd,YAAY,EACZC,MAAO,KAGX,KAAK3B,EACH,OAAO,EAAP,GACKwC,EADL,CAEE3B,WAAY,sBAAI2B,EAAM3B,YAAV,CAAsB4B,EAAOtB,QAAQN,aAAY6B,OAC7D9B,SAAU6B,EAAOtB,QAAQP,SACzBU,aAAcmB,EAAOtB,QAAQG,aAC7BI,YAAY,EACZC,MAAO,KAGX,KAAKzB,EACH,OAAO,EAAP,GACKsC,EADL,CAEE3B,WAAY,GACZD,SAAU,KACVU,cAAc,EACdI,YAAY,IAGhB,KAAKzB,EACH,OAAO,EAAP,GACKuC,EADL,CAEEb,MAAOc,EAAOtB,QACdO,YAAY,IAGhB,QACE,OAAOc,IK3CX7B,ODFK,WAAsD,IAA/B6B,EAA8B,uDAAtBf,EAAcgB,EAAQ,uCAC1D,OAAQA,EAAO3B,MACb,KAAKuB,EACH,O,yVAAO,IACFG,EADL,CAEE9B,YAAa+B,EAAOtB,QAAQT,cAGhC,QACE,OAAO8B,MEXAG,EAAQC,YAAYN,EAAaO,YAAgBC,M,kECFzCC,E,2MAEnBC,GAAKC,SAASC,cAAc,O,mFAG1BD,SAASE,KAAKC,YAAYC,KAAKL,M,6CAI/BC,SAASE,KAAKG,YAAYD,KAAKL,M,+BAI/B,OAAOO,IAASC,aAAaH,KAAKI,MAAMC,SAAUL,KAAKL,Q,GAbvBW,a,uBCErB,SAASC,IACtB,OACE,yBAAKC,UAAU,2BACb,yBAAKC,IAAKC,IAAQF,UAAU,kBAAkBG,IAAI,Y,UCDlDC,E,YACJ,WAAYR,GAAQ,IAAD,8BACjB,4CAAMA,KAiBRS,UAAY,WAKV,IAJA,IAAMC,EAAW,EAAKV,MAAMrB,MACtBgC,EAAS,EAAKX,MAAMW,OACpBC,EAAS,GAHC,WAKPC,GACPH,EAASlC,SAAQ,SAACsC,GACZA,IAASH,EAAOE,GAAG/D,KAAK8D,EAAOlC,KAAKiC,EAAOE,GAAGpC,WAF7CoC,EAAI,EAAGA,EAAIF,EAAOI,OAAQF,IAAM,EAAhCA,GAMT,EAAKG,SAAS,CACZC,gBAAgB,EAChBtC,MAAOiC,IAGL,EAAKZ,MAAMkB,WAAa,EAAKlB,MAAMmB,UACrC7D,MAAM,EAAK0C,MAAMkB,WACd3D,MAAK,SAAA6D,GAAG,OAAIA,EAAI3D,UAChBF,MAAK,SAAAqD,GACJ,EAAKI,SAAS,CACZE,UAAWN,EAAOS,UAIxB/D,MAAM,EAAK0C,MAAMmB,SACd5D,MAAK,SAAA6D,GAAG,OAAIA,EAAI3D,UAChBF,MAAK,SAAAqD,GACJ,EAAKI,SAAS,CACZG,QAASP,EAAOS,WAKxBC,YAAW,WACT,EAAKN,SAAS,CACZC,gBAAgB,IAGlB,EAAKM,UAAUC,QAAQC,MAAMC,gBAAkB,EAAK1B,MAAM2B,QACzD,MA1Dc,EA6DnBC,WAAa,WACX,EAAKZ,SAAS,CACZa,OAAQ,yBAEVP,YAAW,kBAAM,EAAKtB,MAAM8B,YAAW,MA9DvC,EAAK/C,MAAQ,CACXkC,gBAAgB,EAChBC,UAAW,KACXC,QAAS,KACTxC,MAAO,GACPkD,OAAQ,uBAGV,EAAKN,UAAYQ,IAAMC,YAXN,E,iFAejBpC,KAAKa,c,+BAsDL,OACE,kBAAC,EAAD,KACGb,KAAKb,MAAMkC,eACR,kBAACd,EAAD,MAEA,yBAAKC,UAAWR,KAAKb,MAAM8C,QACzB,yBAAKzB,UAAU,eACb,4BAAQA,UAAU,gBAAgB6B,QAAUrC,KAAKgC,aACjD,yBAAKxB,UAAU,eACb,yBAAK8B,IAAKtC,KAAK2B,UAAWnB,UAAU,eAAgBR,KAAKI,MAAMqB,KAAK,IACpE,2BAAKzB,KAAKI,MAAMqB,OAElB,yBAAKjB,UAAU,aACb,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,iBACb,0BAAMA,UAAU,YAChB,0BAAMA,UAAU,UAAhB,cACA,0BAAMA,UAAU,cAAeR,KAAKI,MAAMmC,YAE5C,yBAAK/B,UAAU,iBACb,0BAAMA,UAAU,gBAChB,0BAAMA,UAAU,UAAhB,WACA,0BAAMA,UAAU,gBAAiBR,KAAKb,MAAMoC,UAE9C,yBAAKf,UAAU,iBACb,0BAAMA,UAAU,eAChB,0BAAMA,UAAU,UAAhB,UACA,0BAAMA,UAAU,eAAgBR,KAAKI,MAAMoC,UAG/C,yBAAKhC,UAAU,gBACb,yBAAKA,UAAU,iBACb,0BAAMA,UAAU,kBAChB,0BAAMA,UAAU,UAAhB,aACA,0BAAMA,UAAU,kBAAmBR,KAAKb,MAAMmC,YAEhD,yBAAKd,UAAU,iBACb,0BAAMA,UAAU,cAChB,0BAAMA,UAAU,cAAhB,SACA,yBAAKA,UAAU,aAAaR,KAAKb,MAAMJ,MAAM0D,KAAI,SAACvB,EAAMD,GAAP,OAAc,0BAAMyB,IAAKzB,GAAKC,iB,GA7GjFZ,aAgILqC,eAPS,SAACxD,GAEvB,MAAO,CACL4B,OAFgB5B,EAAMJ,MAAhBA,SAMK4D,CAAyB/B,GCjEzBgC,MAhEf,YAAoF,IAApEnB,EAAmE,EAAnEA,KAAMvE,EAA6D,EAA7DA,IAAK6B,EAAwD,EAAxDA,MAAOuC,EAAiD,EAAjDA,UAAWC,EAAsC,EAAtCA,QAASiB,EAA6B,EAA7BA,OAAQD,EAAqB,EAArBA,UAAWM,EAAU,EAAVA,OAAU,EACrDC,oBAAS,GAD4C,mBAC1EC,EAD0E,KAClEC,EADkE,OAEvDF,mBAAS,MAF8C,mBAE1Ef,EAF0E,KAEnEkB,EAFmE,KAI3EC,EAAczB,EAAK,GACnBE,EAAYQ,IAAMC,YACpBe,EAAW,KAUfC,qBAAU,WACRzB,EAAUC,QAAQC,MAAMC,gBATT,WAGf,IAFA,IAAMuB,EAAW,GAEVA,EAASlC,OAAS,GAAGkC,EAASvE,KAAKwE,KAAKC,MAAsB,IAAhBD,KAAKE,WAE1D,OAAOL,EAAW,OAAQE,EAASI,KAAK,MAAO,IAILC,GAE1CT,EAASE,KACR,IAEH,IAAMQ,EAAYC,uBAAY,WAC5BZ,GAAU,GACVH,EAAOjB,QAAQiC,UAAUC,IAAI,QAC7BlE,SAASE,KAAK+D,UAAUC,IAAI,mBAC3B,CAACd,EAAWH,IAETb,EAAa4B,uBAAY,WAC7BZ,GAAU,GACVH,EAAOjB,QAAQiC,UAAUE,OAAO,QAChCnE,SAASE,KAAK+D,UAAUE,OAAO,iBAC/BlB,EAAOjB,QAAQiC,UAAUC,IAAI,WAC7BpC,YAAW,kBAAMmB,EAAOjB,QAAQiC,UAAUE,OAAO,aAAY,OAC5D,CAACf,EAAWH,IAEf,OACE,oCACE,4BACE,yBAAKrC,UAAU,gBAAgB6B,QAASsB,GACtC,yBAAKnD,UAAU,iBACb,yBAAK8B,IAAKX,EAAWnB,UAAU,UAAW0C,GAC1C,uBAAG1C,UAAU,cAAeiB,GAC5B,uBAAGjB,UAAU,gBAAiBgC,MAInCO,GACC,kBAAC,EAAD,CACEb,QAASF,EACTP,KAAMA,EACN1C,MAAOA,EACPuC,UAAWA,EACXC,QAASA,EACTiB,OAAQA,EACRD,UAAWA,EACXrF,IAAKA,EACL6E,MAAOA,MC0BFY,eA9BS,SAACxD,GAAW,IAAD,EACgBA,EAAM3B,WAA/CS,EADyB,EACzBA,aAGR,MAAO,CACLT,WAL+B,EACXA,WAKpBS,eACAI,WAP+B,EACCA,WAOhCU,MANgBI,EAAMJ,MAAhBA,UAUiB,SAAC5B,GAC1B,IAAM6G,ECxEO,SAAmBC,EAAIC,GACpC,IAAIC,EAAK,EAET,OAAO,WAAc,IAAD,uBAATC,EAAS,yBAATA,EAAS,gBACdD,GAAIE,aAAaF,GAErBA,EAAKzC,YAAW,kBAAMuC,EAAE,WAAF,EAAMG,KAAOF,IDkEbI,EAAU,kBAAMnH,EAASF,OAAkB,KAEnE,MAAO,CACLsH,kBAAmB,WACjBpH,EAASF,MAEXuH,UAAW,SAACnH,GACVF,EZtDJ,CACEM,KAAMZ,IYsDJM,ER7EC,SAAuBE,GAC5B,MAAO,CACLI,KAAMuB,EACNlB,QAAS,CACPT,gBQyESoH,CAAcpH,IACvB2G,KAEFrF,SAAU,WACRxB,EAASwB,SAKAgE,EA9EE,SAAC,GAA+F,IAA7FnF,EAA4F,EAA5FA,WAAYS,EAAgF,EAAhFA,aAAc4E,EAAkE,EAAlEA,OAAQ2B,EAA0D,EAA1DA,UAAWD,EAA+C,EAA/CA,kBAAmBlG,EAA4B,EAA5BA,WAAYM,EAAgB,EAAhBA,SAC9FyE,qBAAU,kBAAMzE,MAAY,CAACA,IAE7B,IAAM+F,EAAqC,IAAtBlH,EAAW2D,OAMhC,OACE,oCACE,yBAAKX,UAAU,QACb,2BACE/C,KAAK,OACL+C,UAAU,QACVmE,YAAY,iBACZC,SAAU,SAACC,GAAD,OAAOL,EAAUK,EAAEC,OAAOC,UAEtC,4BAAQtH,KAAK,SAAS+C,UAAU,kBAGlC,wBAAIA,UAAU,YACZ,kBAAC,IAAD,CACEwE,UAAW,EACXC,SAnBS,WACV5G,GAAYkG,KAmBXW,QAASjH,GAERyG,EACIlH,EAAWiF,KAAI,gBAAGhB,EAAH,EAAGA,KAAMvE,EAAT,EAASA,IAAK6B,EAAd,EAAcA,MAAOuC,EAArB,EAAqBA,UAAWC,EAAhC,EAAgCA,QAASiB,EAAzC,EAAyCA,OAAQ2C,EAAjD,EAAiDA,WAAjD,OAChB,kBAAC,EAAD,CACE1D,KAAMA,EACNvE,IAAKA,EACLwF,IAAKjB,EACL1C,MAAOA,EACPuC,UAAWA,EACXuB,OAAQA,EACRtB,QAASA,EACTiB,OAAQA,EACRD,UAAW4C,OAGb,yBAAK3E,UAAU,4BAAf,8BEbC4E,G,kBAjCb,WAAYhF,GAAQ,IAAD,8BACjB,4CAAMA,KAEDyC,OAASV,IAAMC,YAHH,E,sEAOjB,OACE,yBAAKE,IAAKtC,KAAK6C,OAAQrC,UAAU,OAC/B,4BAAQA,UAAU,UAChB,yBAAKA,UAAU,eACb,yBAAKA,UAAU,aACf,uBAAGA,UAAU,YAAb,0BACA,yBAAKA,UAAU,eAInB,0BAAMA,UAAU,iBACd,kBAAC,EAAD,CACEqC,OAAQ7C,KAAK6C,UAIjB,4BAAQrC,UAAU,UAChB,yBAAKA,UAAU,cACb,uBAAGA,UAAU,cAAb,iD,GA1BMF,c,MCGlBJ,IAASmF,OACP,kBAAC,IAAD,CAAU/F,MAAOA,GACf,kBAAC,EAAD,OAEFM,SAAS0F,eAAe,W","file":"static/js/main.560f1659.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/falcon.5b35eabe.svg\";","/* eslint-disable import/prefer-default-export */\nexport const GET_CHARACTERS_REQUEST = 'GET_CHARACTERS_REQUEST';\nexport const GET_CHARACTERS_SUCCESS = 'GET_CHARACTERS_SUCCESS';\nexport const GET_CHARACTERS_FAIL = 'GET_CHARACTERS_FAIL';\nexport const DELETE_CHARACTERS = 'DELETE_CHARACTERS';\nconst BASE_PATH = 'https://swapi.co/api/';\nconst SEARCH_PATH = '?search=';\nconst PEOPLE_PATH = 'people/';\n\n\nfunction getMoreCharacters(url, dispatch) {\n  fetch(url).then((resp) => resp.json())\n    .then((resp) => {\n      dispatch({\n        type: GET_CHARACTERS_SUCCESS,\n        payload: {\n          characters: resp.results,\n          nextHref: resp.next || null,\n          hasMoreItems: Boolean(resp.next),\n        },\n      });\n    });\n}\n\nexport const deleteCharacters = () => (\n  {\n    type: DELETE_CHARACTERS,\n  }\n);\n\nexport function setCharacters() {\n  let url = (`${BASE_PATH}${PEOPLE_PATH}`);\n\n  return (dispatch, getState) => {\n    const { searchQuery } = getState().search;\n    const { nextHref } = getState().characters;\n\n    if (searchQuery) {\n      url = (`${BASE_PATH}${PEOPLE_PATH}${SEARCH_PATH}${searchQuery}`);\n    }\n\n    dispatch({\n      type: GET_CHARACTERS_REQUEST,\n    });\n\n    if (nextHref) {\n      url = nextHref;\n    }\n\n    getMoreCharacters(url, dispatch);\n  };\n}\n","/* eslint-disable import/prefer-default-export */\nimport {\n  GET_CHARACTERS_REQUEST,\n  GET_CHARACTERS_SUCCESS,\n  GET_CHARACTERS_FAIL,\n  DELETE_CHARACTERS,\n} from '../actions/charactersActions';\n\nconst initialState = {\n  characters: [],\n  isFetching: false,\n  hasMoreItems: true,\n  nextHref: null,\n  error: '',\n};\n\nexport function charactersReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_CHARACTERS_REQUEST:\n      return {\n        ...state,\n        isFetching: true,\n        error: '',\n      };\n\n    case GET_CHARACTERS_SUCCESS:\n      return {\n        ...state,\n        characters: [...state.characters, action.payload.characters].flat(),\n        nextHref: action.payload.nextHref,\n        hasMoreItems: action.payload.hasMoreItems,\n        isFetching: false,\n        error: '',\n      };\n\n    case DELETE_CHARACTERS:\n      return {\n        ...state,\n        characters: [],\n        nextHref: null,\n        hasMoreItems: true,\n        isFetching: true,\n      };\n\n    case GET_CHARACTERS_FAIL:\n      return {\n        ...state,\n        error: action.payload,\n        isFetching: false,\n      };\n\n    default:\n      return state;\n  }\n}\n","export const GET_FILMS_SUCCESS = 'GET_FILMS_SUCCESS';\nexport const GET_FILMS_FAIL = 'GET_FILMS_FAIL';\n\nconst BASE_FILMS_PATH = 'https://swapi.co/api/films/';\n\nconst titlesArr = [];\n\nfunction fetchFilms(url) {\n  fetch(url).then((resp) => resp.json())\n    .then((resp) => {\n      resp.results.forEach(({ title, url }) => {\n        titlesArr.push({ title, url });\n      });\n    });\n}\n\nexport function getFilms() {\n  fetchFilms(BASE_FILMS_PATH);\n\n  return (dispatch) => {\n    dispatch({\n      type: GET_FILMS_SUCCESS,\n      payload: {\n        films: titlesArr,\n      },\n    });\n  };\n}\n","/* eslint-disable import/prefer-default-export */\nimport {\n  GET_FILMS_SUCCESS,\n  GET_FILMS_FAIL,\n} from '../actions/filmsActions';\n\nconst initialState = {\n  films: [],\n};\n\nexport function filmsReducer(state = initialState, action) {\n  switch (action.type) {\n    case GET_FILMS_SUCCESS:\n      return {\n        ...state,\n        films: action.payload.films,\n      };\n\n    case GET_FILMS_FAIL:\n      return {\n        ...state,\n        error: action.payload,\n      };\n\n    default:\n      return state;\n  }\n}\n","/* eslint-disable import/prefer-default-export */\nexport const CHANGE_SEARCH_TEXT = 'CHANGE_SEARCH_TEXT';\n\nexport function setSearchText(searchQuery) {\n  return {\n    type: CHANGE_SEARCH_TEXT,\n    payload: {\n      searchQuery,\n    },\n  };\n}\n","/* eslint-disable import/prefer-default-export */\nimport { CHANGE_SEARCH_TEXT } from '../actions/searchActions';\n\nconst initialState = {\n  searchQuery: null,\n};\n\nexport function searchReducer(state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_SEARCH_TEXT:\n      return {\n        ...state,\n        searchQuery: action.payload.searchQuery,\n      };\n\n    default:\n      return state;\n  }\n}\n","/* eslint-disable import/prefer-default-export */\nimport { combineReducers } from 'redux';\nimport { charactersReducer } from './characters';\nimport { filmsReducer } from './films';\nimport { searchReducer } from './search';\n\nexport const rootReducer = combineReducers({\n  films: filmsReducer,\n  characters: charactersReducer,\n  search: searchReducer,\n});\n","/* eslint-disable import/prefer-default-export */\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { rootReducer } from '../reducers';\n\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\n","import { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nexport default class Portal extends Component {\n  \n  el = document.createElement('div');\n\n  componentDidMount() {\n    document.body.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    document.body.removeChild(this.el);\n  }\n\n  render() {\n    return ReactDOM.createPortal(this.props.children, this.el);\n  }\n}","import React from 'react';\nimport falcon from './img/falcon.svg';\n\nimport './css/Preloader.css';\n\nexport default function ModalPreloader() {\n  return (\n    <div className=\"preloaderWrapper fadeIn\">\n      <img src={falcon} className=\"falconPreloader\" alt=\"falcon\" />\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Portal from './Portal';\nimport ModalPreloader from './ModalPreloader';\n\nimport './css/Modal.css';\n\nclass Modal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      needShowLoader: true,\n      homeworld: null,\n      species: null,\n      films: [],\n      styles: 'modalWrapper fadeIn',\n    }\n\n    this.avatarRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  fetchData = () => {\n    const filmUrls = this.props.films;\n    const titles = this.props.titles;\n    const result = [];\n    \n    for (let i = 0; i < titles.length; i++) {\n      filmUrls.forEach((film) => {\n        if (film === titles[i].url) result.push(titles[i].title)\n      })\n    }\n\n    this.setState({\n      needShowLoader: true,\n      films: result,\n    })\n\n    if (this.props.homeworld && this.props.species) {\n      fetch(this.props.homeworld)\n        .then(res => res.json())\n        .then(result => {\n          this.setState({\n            homeworld: result.name,\n          });\n        })\n\n      fetch(this.props.species)\n        .then(res => res.json())\n        .then(result => {\n          this.setState({\n            species: result.name,\n          });\n        })\n    }\n\n    setTimeout(() => {\n      this.setState({\n        needShowLoader: false,\n      });\n\n      this.avatarRef.current.style.backgroundColor = this.props.color;\n    }, 2000);\n  }\n\n  closeModal = () => {\n    this.setState({\n      styles: 'modalWrapper fadeOut'\n    });\n    setTimeout(() => this.props.onClose(), 300);\n  }\n\n  render() {\n    return (\n      <Portal>\n        {this.state.needShowLoader\n          ? <ModalPreloader/>\n          : (\n            <div className={this.state.styles}>\n              <div className=\"modalWindow\">\n                <button className=\"modalCloseBtn\" onClick={ this.closeModal }/>\n                <div className=\"modalHeader\">\n                  <div ref={this.avatarRef} className=\"modalAvatar\">{ this.props.name[0] }</div>\n                  <p>{ this.props.name }</p>\n                </div>\n                <div className=\"modalBody\">\n                  <div className=\"threeWrapper\">\n                    <div className=\"titlesWrapper\">\n                      <span className=\"iconDOB\"/>\n                      <span className=\"titles\">Birth year</span>\n                      <span className=\"titleBirth\">{ this.props.birthYear }</span>\n                    </div>\n                    <div className=\"titlesWrapper\">\n                      <span className=\"iconSpecies\"/>\n                      <span className=\"titles\">Species</span>\n                      <span className=\"titleSpecies\">{ this.state.species }</span>\n                    </div>\n                    <div className=\"titlesWrapper\">\n                      <span className=\"iconGender\"/>\n                      <span className=\"titles\">Gender</span>\n                      <span className=\"titleGender\">{ this.props.gender }</span>\n                    </div>\n                  </div>\n                  <div className=\"filmsWrapper\">\n                    <div className=\"titlesWrapper\">\n                      <span className=\"iconHomeworld\"/>\n                      <span className=\"titles\">Homeworld</span>\n                      <span className=\"titleHomeworld\">{ this.state.homeworld }</span>\n                    </div>\n                    <div className=\"titlesWrapper\">\n                      <span className=\"iconFilms\"/>\n                      <span className=\"titleFilms\">Films</span>\n                      <div className=\"titleList\">{this.state.films.map((film, i) => (<span key={i}>{ film }</span>))}</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n        )}\n      </Portal>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { films } = state.films;\n  return {\n    titles: films,\n  }\n}\n\nexport default connect(mapStateToProps)(Modal);\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable react/prop-types */\nimport React, { useCallback, useState, useEffect } from 'react';\nimport Modal from './Modal';\n\nfunction Card({ name, url, films, homeworld, species, gender, birthYear, appRef }) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [color, setColor] = useState(null);\n\n  const firstLetter = name[0];\n  const avatarRef = React.createRef();\n  let rgbColor = null;\n\n  const getColor = () => {\n    const colorArr = [];\n\n    while (colorArr.length < 3) colorArr.push(Math.floor(Math.random() * 255));\n\n    return rgbColor = 'rgb('+ colorArr.join(', ') +')';\n  };\n\n  useEffect(() => {\n    avatarRef.current.style.backgroundColor = getColor();\n\n    setColor(rgbColor);\n  }, []);\n\n  const openModal = useCallback(() => {\n    setIsOpen(true);\n    appRef.current.classList.add('blur');\n    document.body.classList.add('scroll-hidden');\n  }, [setIsOpen, appRef]);\n\n  const closeModal = useCallback(() => {\n    setIsOpen(false);\n    appRef.current.classList.remove('blur');\n    document.body.classList.remove('scroll-hidden');\n    appRef.current.classList.add('blurOut');\n    setTimeout(() => appRef.current.classList.remove('blurOut'), 1000);\n  }, [setIsOpen, appRef]);\n\n  return (\n    <>\n      <li>\n        <div className=\"card fadeInUp\" onClick={openModal}>\n          <div className=\"avatarWrapper\">\n            <div ref={avatarRef} className=\"avatar\">{ firstLetter }</div>\n            <p className=\"avatarName\">{ name }</p>\n            <p className=\"avatarGender\">{ gender }</p>\n          </div>\n        </div>\n      </li>\n      {isOpen && (\n        <Modal\n          onClose={closeModal}\n          name={name}\n          films={films}\n          homeworld={homeworld}\n          species={species}\n          gender={gender}\n          birthYear={birthYear}\n          url={url}\n          color={color}\n        />\n      )}\n    </>\n  );\n}\n\nexport default Card;\n","/* eslint-disable jsx-a11y/control-has-associated-label */\n/* eslint-disable react/prop-types */\nimport React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { setCharacters, deleteCharacters } from './actions/charactersActions';\nimport { setSearchText } from './actions/searchActions';\nimport { getFilms } from './actions/filmsActions';\nimport makeDelay from './utils/makeDelay';\nimport Card from './Card';\n\nconst CardList = ({ characters, hasMoreItems, appRef, setSearch, setCharactersList, isFetching, getFilms, }) => {\n  useEffect(() => getFilms(), [getFilms]);\n\n  const needShowCard = characters.length !== 0;\n\n  const loadMore = () => {\n    if (!isFetching) setCharactersList();\n  };\n\n  return (\n    <>\n      <div className=\"form\">\n        <input\n          type=\"text\"\n          className=\"input\"\n          placeholder=\"Search by name\"\n          onChange={(e) => setSearch(e.target.value)}\n        />\n        <button type=\"submit\" className=\"searchButton\" />\n      </div>\n\n      <ul className=\"cardList\">\n        <InfiniteScroll\n          pageStart={0}\n          loadMore={loadMore}\n          hasMore={hasMoreItems}\n        >\n          {needShowCard\n            ? (characters.map(({ name, url, films, homeworld, species, gender, birth_year }) => (\n              <Card\n                name={name}\n                url={url}\n                key={name}\n                films={films}\n                homeworld={homeworld}\n                appRef={appRef}\n                species={species}\n                gender={gender}\n                birthYear={birth_year}\n              />\n            )))\n            : <div className=\"noCharactersFound fadeIn\">No characters found.</div>}\n        </InfiniteScroll>\n      </ul>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  const { hasMoreItems, characters, isFetching } = state.characters;\n  const { films } = state.films;\n\n  return {\n    characters,\n    hasMoreItems,\n    isFetching,\n    films,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  const debouncedSearch = makeDelay(() => dispatch(setCharacters()), 1000);\n\n  return {\n    setCharactersList: () => {\n      dispatch(setCharacters());\n    },\n    setSearch: (searchQuery) => {\n      dispatch(deleteCharacters());\n      dispatch(setSearchText(searchQuery));\n      debouncedSearch();\n    },\n    getFilms: () => {\n      dispatch(getFilms());\n    },\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(CardList);\n","export default function makeDelay(fn, delay) {\n  let to = 0;\n\n  return (...args) => {\n    if (to) clearTimeout(to);\n\n    to = setTimeout(() => fn(...args), delay);\n  };\n}\n","import React, { Component } from 'react';\nimport CardList from './CardList';\n\nimport './css/App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.appRef = React.createRef();\n  }\n\n  render() {\n    return (\n      <div ref={this.appRef} className=\"app\">\n        <header className=\"header\">\n          <div className=\"logoWrapper\">\n            <div className=\"logoStar\" />\n            <p className=\"logoText\">CHARACTER ENCYCLOPEDIA</p>\n            <div className=\"logoWars\" />\n          </div>\n        </header>\n\n        <main className=\"cardContainer\">\n          <CardList\n            appRef={this.appRef}\n          />\n        </main>\n\n        <footer className=\"footer\">\n          <div className=\"footerText\">\n            <p className=\"footerText\">STAR WARS CHARACTER ENCYCLOPEDIA, 2019</p>\n          </div>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store/configureStore';\nimport App from './App';\n\nimport './css/reset.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}